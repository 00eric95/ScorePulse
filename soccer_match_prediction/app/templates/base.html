<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScorePulse AI - {% block title %}Home{% endblock %}</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#0a1128',       /* Deep Night Blue */
                            card: 'rgba(28, 43, 75, 0.6)', /* Glass Card BG */
                            accent: '#00f2c3',     /* Cyber Teal */
                            orange: '#ff6b35',     /* Sporty Orange */
                            text: '#e6f1ff',       /* Soft White */
                            muted: '#a0a8b8'       /* Muted Blue-Grey */
                        }
                    },
                    fontFamily: { sans: ['Poppins', 'sans-serif'] },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <style>
        /* Global Background Gradient */
        body {
            background-color: #0a1128;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 242, 195, 0.08), transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(255, 107, 53, 0.05), transparent 40%);
            background-attachment: fixed;
        }

        /* Glassmorphism Utilities */
        .glass {
            background: rgba(28, 43, 75, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        /* Preloader Animations */
        .pulse-path { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: dash 2s ease-in-out infinite; }
        .soccer-ball { animation: spin 3s infinite linear; transform-origin: center; }
        @keyframes dash { 0% { stroke-dashoffset: 1000; } 50% { stroke-dashoffset: 0; } 100% { stroke-dashoffset: -1000; } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="text-brand-text font-sans flex flex-col min-h-screen">

    <div id="app-preloader" class="fixed inset-0 z-[9999] bg-brand-dark flex items-center justify-center transition-opacity duration-500">
        <div class="text-center">
            <svg width="150" height="150" viewBox="0 0 200 200" fill="none" class="mx-auto">
                <path class="pulse-path" d="M10 100 H40 L60 40 L80 160 L100 100 H190" stroke="#00f2c3" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                <g class="soccer-ball">
                    <path d="M100 70 L125 85 V115 L100 130 L75 115 V85 Z" stroke="white" stroke-width="3" fill="transparent"/>
                </g>
            </svg>
            <h2 class="text-3xl font-extrabold text-white mt-4 tracking-widest animate-pulse">SCORE<span class="text-brand-accent">PULSE</span></h2>
            <p id="loading-text" class="text-xs text-brand-muted mt-2 font-mono tracking-widest">INITIALIZING AI MODELS...</p>
        </div>
    </div>

    <script>
        window.addEventListener('load', function() {
            const loader = document.getElementById('app-preloader');
            const text = document.getElementById('loading-text');
            if (!navigator.onLine) {
                text.innerText = "⚠️ OFFLINE MODE ACTIVE";
                text.classList.add('text-brand-orange');
            } else {
                setTimeout(() => {
                    loader.style.opacity = '0';
                    setTimeout(() => { loader.style.display = 'none'; }, 500);
                }, 800);
            }
        });
    </script>

    <nav class="glass sticky top-0 z-50 border-b-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                
                <a href="{{ url_for('home') }}" class="flex items-center space-x-2 group">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-brand-accent to-blue-600 flex items-center justify-center text-brand-dark font-bold text-lg shadow-[0_0_15px_rgba(0,242,195,0.4)] group-hover:scale-110 transition duration-300">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <span class="text-2xl font-bold tracking-wide text-white">SCORE<span class="text-brand-accent drop-shadow-[0_0_8px_rgba(0,242,195,0.8)]">PULSE</span></span>
                </a>

                <div class="hidden md:flex space-x-8 items-center">
                    <a href="{{ url_for('home') }}" class="text-brand-muted hover:text-brand-accent transition text-sm font-medium hover:tracking-wide">Home</a>
                    <a href="{{ url_for('predict') }}" class="text-brand-muted hover:text-brand-accent transition text-sm font-medium hover:tracking-wide">Predict</a>
                    <a href="{{ url_for('pricing') }}" class="text-brand-muted hover:text-brand-accent transition text-sm font-medium hover:tracking-wide">Pricing</a>
                    
                    {% if current_user.is_authenticated and current_user.id == 1 %}
                        <a href="{{ url_for('admin_dashboard') }}" class="text-brand-orange hover:text-white border border-brand-orange/30 hover:bg-brand-orange/20 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition">Admin Panel</a>
                    {% endif %}
                </div>

                <div class="flex items-center space-x-4">
                    
                    <a href="https://t.me/ScorePulseBot" target="_blank" class="p-2 rounded-full text-blue-400 hover:bg-white/10 transition-colors flex items-center gap-2">
                        <i class="fab fa-telegram text-2xl"></i>
                    </a>

                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('profile') }}" class="flex items-center gap-3 pl-4 border-l border-white/10">
                            <div class="text-right hidden sm:block">
                                <span class="block text-xs text-brand-muted">Welcome,</span>
                                <span class="block text-sm font-bold text-white leading-none">{{ current_user.username }}</span>
                            </div>
                            <div class="w-9 h-9 bg-brand-accent rounded-lg flex items-center justify-center text-brand-dark font-bold shadow-lg">
                                {{ current_user.username[0] | upper }}
                            </div>
                        </a>
                    {% else %}
                        <a href="{{ url_for('login') }}" class="text-white hover:text-brand-accent text-sm font-medium px-4">Log In</a>
                        <a href="{{ url_for('register') }}" class="bg-brand-accent hover:bg-emerald-300 text-brand-dark px-6 py-2.5 rounded-full text-sm font-bold transition shadow-[0_4px_14px_rgba(0,242,195,0.3)] hover:transform hover:-translate-y-0.5">Get Started</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 mt-8">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    {% if category == 'success' %}
                        {% set styles = 'border-l-4 border-brand-accent bg-green-900/20 text-green-200' %}
                        {% set icon = 'fa-check-circle text-brand-accent' %}
                    {% else %}
                        {% set styles = 'border-l-4 border-brand-orange bg-red-900/20 text-red-200' %}
                        {% set icon = 'fa-exclamation-triangle text-brand-orange' %}
                    {% endif %}
                    
                    <div class="glass p-4 mb-6 rounded-r-xl flex items-center gap-4 {{ styles }} animate-fade-in-down">
                        <i class="fas {{ icon }} text-xl"></i>
                        <span class="font-medium">{{ message }}</span>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <main class="flex-grow">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-brand-dark border-t border-white/5 py-12 mt-auto relative overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-lg h-1 bg-brand-accent/50 blur-[100px]"></div>

        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <div class="flex justify-center items-center gap-2 mb-6">
                <i class="fas fa-bolt text-brand-accent"></i>
                <span class="font-bold text-lg text-white tracking-widest">SCORE<span class="text-brand-accent">PULSE</span> AI</span>
            </div>

            <p class="text-brand-muted text-sm mb-8 max-w-md mx-auto">
                Leveraging neural networks and historical data to provide the most accurate football predictions in the market.
            </p>

            <div class="flex justify-center gap-8 mb-8">
                <a href="#" class="text-brand-muted hover:text-brand-accent transition transform hover:scale-110"><i class="fab fa-twitter text-2xl"></i></a>
                <a href="https://t.me/ScorePulseBot" class="text-brand-muted hover:text-blue-400 transition transform hover:scale-110"><i class="fab fa-telegram text-2xl"></i></a>
                <a href="#" class="text-brand-muted hover:text-white transition transform hover:scale-110"><i class="fab fa-github text-2xl"></i></a>
            </div>

            <div class="flex justify-center items-center space-x-6 opacity-60 grayscale hover:grayscale-0 transition duration-500">
                <i class="fab fa-cc-visa text-3xl text-white"></i>
                <i class="fab fa-cc-paypal text-3xl text-blue-400"></i>
                <div class="flex items-center border border-green-600 rounded px-3 py-1 bg-green-900/20">
                    <span class="text-green-500 font-bold text-xs tracking-wider">M-PESA</span>
                </div>
            </div>
            
            <p class="text-slate-600 text-xs mt-8">&copy; 2025 ScorePulse AI. All rights reserved.</p>
        </div>
    </footer>

</body>
</html>